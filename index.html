<!-- load angular dependencies -->
<script src="./angular.min.js"> </script>
<script src="./homeBase.js"></script>
<head> 
	<link rel="stylesheet" href="style.css">
</head>
<html ng-app="homeBase">
<body>



<div class="mainCon" ng-controller="mainCon">
	<input id="input" type="text" ng-model="search"></input>
	<div id="chunkHolder">
		<div class="con" ng-repeat="chunk in chunks | filter:search">	<center><b> {{chunk.Title}} </b></center><b>Info:</b> {{chunk.Description}}</div>
	</div>
</div>
<script>
	var homeBase = angular.module('homeBase',[]);

	homeBase.filter('and', function($log) {
  		return function(items, query) {
	    	if (!query) return items; // return all items if nothing in query box

		    var terms = query.split(' '); //split query terms by space character
		    var arrayToReturn = [];

		    items.forEach(function(item){ // iterate through array of items
		      	var passTest = true;
		      	terms.forEach(function(term){ // iterate through terms found in query box
		        	// if any terms aren't found, passTest is set to and remains false
		        	passTest = passTest && (item.toLowerCase().indexOf(term.toLowerCase()) > -1); 
		    	});
		      // Add item to return array only if passTest is true -- all search terms were found in item
		   	if (passTest) { arrayToReturn.push(item); }
		    });

    return arrayToReturn;
  	}
});


	// homeBase.filter("myFilter", function () {
	//     return function (input, searchText, AND_OR) {
	//         var returnArray = [],
	//             // Split on single or multi space
	//             splitext = searchText.toLowerCase().split(/\s+/),
	//             // Build Regexp with Logical AND using "look ahead assertions"
	//             regexp_and = "(?=.*" + splitext.join(")(?=.*") + ")",
	//             // Build Regexp with logicial OR
	//             regexp_or = searchText.toLowerCase().replace(/\s+/g, "|"),
	//             // Compile the regular expression
	//             re = new RegExp((AND_OR == "AND") ? regexp_and : regexp_or, "i");

	//         for (var x = 0; x < input.length; x++) {
	//             if (re.test(input[x])) returnArray.push(input[x]);
	//         }
	//         return returnArray;
	//     }
	// });

	homeBase.factory('Data', function(){
	
	})

	function searchCon($scope, Data){
		$scope.data = Data;
	}
	homeBase.controller('mainCon',function($scope, $http){
		$http.get('./data/dataNoCat').success(function(data){
			$scope.chunks = data;
		});	
	});	
</script>

<!-- <div ng-controller="searchCon">
	<input type="text" ng-model="data.textSearch">
	<h1> {{data.textSearch}} </h1>
</div> -->

</body>
</html>